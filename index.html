<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!-- Consider specifying the language of your content by adding the `lang` attribute to <html> -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class=""> <!--<![endif]-->
<head>
    <meta charset="utf-8">

    <title></title>
    <meta name="description" content="">

    <!-- Mobile viewport optimized: h5bp.com/viewport -->
    <meta name="viewport" content="width=device-width">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/home.css">
    <script src="js/jquery-1.7.1.min.js" type="text/javascript"></script>
</head>
<body>
	<div id="main">
		<h1>Hello!</h1>
		<p class="subtitle">This is an experiment that uses the Web Audio API and Processing.js to create a unique musical experience.</p>
		<p class="description">
			This requires a browser that implements the Web Audio API, and live microphone input.
			As of this writing, the only browser that supports all of these things is <a href="https://www.google.com/intl/en/chrome/browser/">Google Chrome</a>.
		</p>
		<p class="web-audio-test-result">Web Audio API support: <span class="result"></span></p>
		<p class="get-user-media-test-result">Microphone Input support: <span class="result"></span></p>
		<p class="summation"></p>
		<p><a href="looper.html" class="launch"></a></p>
	</div>
	<script type="text/javascript">
	(function(){

		function testForWebAudio() {
			var sumText = "";
			var hasGetUserMedia = !!(navigator.getUserMedia || navigator.webkitGetUserMedia ||
            navigator.mozGetUserMedia || navigator.msGetUserMedia);

            var hasWebAudioAPI = !!(window.AudioContext || window.webkitAudioContext || window.mozAudioContext || window.msAudioContext);
 			
 			$(".web-audio-test-result .result").addClass(hasWebAudioAPI ? "pass" : "fail").text( hasWebAudioAPI ? "Pass" : "Fail" );
 			$(".get-user-media-test-result .result").addClass(hasGetUserMedia ? "pass" : "fail").text( hasGetUserMedia ? "Pass" : "Fail" );
 		
 			if(hasWebAudioAPI && hasGetUserMedia) {
 				sumText = "OK Goodâ€”Looks like your browser is all ready.";
 				$(".launch").text("Launch it.");
 			} else {
 				sumText = "Womp womp. Your browser isn't supported. You might want to use Chrome for this.";
 				$(".launch").text("Launch it anyway");
 			}

 			$(".summation").text(sumText);
 		}

		testForWebAudio();

	})();
	</script>
</body>
</html>